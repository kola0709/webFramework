<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head>
        <meta charset="UTF-8">
        <title>홈 | Product Management</title>
    </head>
    <body>
        <h1>Product Management 홈</h1>

        <div sec:authorize="isAuthenticated()">
            <p sec:authorize="isAuthenticated()">안녕하세요, <span sec:authentication="name"></span>님!</p>

            <ul>
                <li><a th:href="@{/products}">상품 목록 보기</a></li>

                <!-- 관리자만 상품등록 가능 -->
                <li sec:authorize="hasRole('ADMIN')">
                    <a th:href="@{/products/new}">상품 등록</a>
                </li>

                <!-- 관리자만 페이지 접근 가능 -->
                <li sec:authorize="hasRole('ADMIN')">
                    <a th:href="@{/admin/users}">관리자 페이지</a>
                </li>

                <li><a th:href="@{/logout}">로그아웃</a></li>
            </ul>
        </div>

        <div sec:authorize="isAnonymous()">
            <p>로그인 후 상품을 관리할 수 있습니다.</p>
            <a th:href="@{/login}">로그인</a> |
            <a th:href="@{/register}">회원가입</a>
        </div>
    </body>
</html>